# –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥—É–ª—è –≤–∞–ª—é—Ç

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

### 1. –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

#### `app/models/exchange_rate.py`
–ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç:
- `usd_rate`, `eur_rate`, `byn_rate` - –∫—É—Ä—Å—ã –∫ —Ä—É–±–ª—é
- `fetched_at` - –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤
- `is_active` - —Ñ–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–µ–∑–∞
- `last_update_status` - —Å—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- `error_message` - —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ

#### `app/database/database.py` (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)
–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è –≤ `CandidateProfileDB`:
- `base_rate_amount` - –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (—Å—É–º–º–∞)
- `base_rate_currency` - –≤–∞–ª—é—Ç–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∞–≤–∫–∏
- `rate_type` - —Ç–∏–ø —Å—Ç–∞–≤–∫–∏ (hourly/monthly/yearly)
- `rate_rub`, `rate_usd`, `rate_eur`, `rate_byn` - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- `rates_calculated_at` - –≤—Ä–µ–º—è —Ä–∞—Å—á–µ—Ç–∞
- `exchange_rate_snapshot_id` - ID —Å—Ä–µ–∑–∞ –∫—É—Ä—Å–∞

### 2. –ü–∞—Ä—Å–µ—Ä –∫—É—Ä—Å–æ–≤ –¶–ë –†–§

#### `app/core/exchange_rate_parser.py`
–§—É–Ω–∫—Ü–∏—è `parse_cb_rf()`:
- –ü–∞—Ä—Å–∏—Ç HTML —Å—Ç—Ä–∞–Ω–∏—Ü—É –¶–ë –†–§
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∫—É—Ä—Å—ã USD, EUR, BYN
- –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –∫—É—Ä—Å—ã –∫ 1 –µ–¥–∏–Ω–∏—Ü–µ –≤–∞–ª—é—Ç—ã
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç None –ø—Ä–∏ —Å–±–æ–µ

### 3. CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏

#### `app/crud/exchange_rate.py`
–ö–ª–∞—Å—Å `ExchangeRateCRUD`:
- `get_active_rate()` - –ø–æ–ª—É—á–∏—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫—É—Ä—Å
- `get_latest_rate()` - –ø–æ–ª—É—á–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫—É—Ä—Å
- `create_rate()` - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫—É—Ä—Å
- `update_rates_from_parser()` - –æ–±–Ω–æ–≤–∏—Ç—å –∏–∑ –ø–∞—Ä—Å–µ—Ä–∞
- `get_by_id()` - –ø–æ–ª—É—á–∏—Ç—å –∫—É—Ä—Å –ø–æ ID

#### `app/crud/candidate_rate.py`
–ö–ª–∞—Å—Å `CandidateRateCRUD`:
- `update_candidate_rate()` - –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- `get_candidate_with_rates()` - –ø–æ–ª—É—á–∏—Ç—å –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ —Å–æ —Å—Ç–∞–≤–∫–∞–º–∏
- `recalculate_candidate_rates()` - –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Å—Ç–∞–≤–∫—É –æ–¥–Ω–æ–≥–æ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
- `recalculate_all_candidates_rates()` - –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Å—Ç–∞–≤–∫–∏ –≤—Å–µ—Ö –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤

### 4. –°–µ—Ä–≤–∏—Å—ã

#### `app/services/currency_service.py`
–ö–ª–∞—Å—Å `CurrencyService`:
- `convert_to_rub()` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ —Ä—É–±–ª–∏
- `convert_from_rub()` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑ —Ä—É–±–ª–µ–π
- `calculate_all_rates()` - —Ä–∞—Å—á–µ—Ç –≤–æ –≤—Å–µ—Ö –≤–∞–ª—é—Ç–∞—Ö
- `update_exchange_rates()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤
- `get_candidate_rates_with_conversion()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞–≤–æ–∫ —Å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π
- `ensure_rates_available()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∫—É—Ä—Å–æ–≤

### 5. API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### `app/routes/currency.py`
–ù–æ–≤—ã–π —Ä–æ—É—Ç–µ—Ä `/api/currency/`:

**–ö—É—Ä—Å—ã –≤–∞–ª—é—Ç:**
- `GET /rates/current` - —Ç–µ–∫—É—â–∏–µ –∫—É—Ä—Å—ã
- `POST /rates/refresh` - –æ–±–Ω–æ–≤–∏—Ç—å –∫—É—Ä—Å—ã (–∞–¥–º–∏–Ω)

**–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è:**
- `POST /convert` - –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∞–ª—é—Ç—É
- `POST /calculate-rates` - —Ä–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–∞–≤–∫—É

**–°—Ç–∞–≤–∫–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤:**
- `GET /candidates/{id}/rate` - –ø–æ–ª—É—á–∏—Ç—å —Å—Ç–∞–≤–∫—É
- `PUT /candidates/{id}/rate` - –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É
- `POST /candidates/{id}/rate/recalculate` - –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å —Å—Ç–∞–≤–∫—É
- `POST /candidates/recalculate-all` - –ø–µ—Ä–µ—Å—á–∏—Ç–∞—Ç—å –≤—Å–µ (–∞–¥–º–∏–Ω)

### 6. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

#### `app/core/scheduler.py` (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)
–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–¥–∞—á–∞ `update_exchange_rates_job()`:
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 09:00 (–ú–°–ö)
- –û–±–Ω–æ–≤–ª—è–µ—Ç –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –õ–æ–≥–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

#### `app/main.py` (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)
–í `lifespan()` –¥–æ–±–∞–≤–ª–µ–Ω–æ:
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫—É—Ä—Å–æ–≤ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ê–∫—Ç–∏–≤–∞—Ü–∏—è scheduler
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–∞ currency

### 7. UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### `app/templates/candidate/candidate_rates_widget.html`
–í–∏–¥–∂–µ—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞–≤–æ–∫:
- –ö—Ä–∞—Å–∏–≤—ã–π –¥–∏–∑–∞–π–Ω —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∞–≤–∫–∏ —Å –±–µ–π–¥–∂–µ–º
- –°–µ—Ç–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫
- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Å—á–µ—Ç–∞ —Å AJAX
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–≤—Ä–µ–º—è —Ä–∞—Å—á–µ—Ç–∞, –∏—Å—Ç–æ—á–Ω–∏–∫)
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞

### 8. –ú–∏–≥—Ä–∞—Ü–∏–∏

#### `scripts/migrate_add_currency_fields.py`
–°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏:
- –°–æ–∑–¥–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É `exchange_rates`
- –î–æ–±–∞–≤–ª—è–µ—Ç –∏–Ω–¥–µ–∫—Å—ã
- –î–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª—è –≤ `candidate_profiles`
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏

### 9. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

#### `CURRENCY_MODULE.md`
–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–æ–¥—É–ª—è:
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è
- API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å UI
- Troubleshooting

#### `CURRENCY_QUICKSTART.md`
–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:
- –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
- –ü—Ä–∏–º–µ—Ä—ã –∫–æ–º–∞–Ω–¥
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
- –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 10. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

#### `requirements.txt` (–æ–±–Ω–æ–≤–ª–µ–Ω–æ)
–î–æ–±–∞–≤–ª–µ–Ω—ã:
- `requests==2.31.0` - HTTP –∑–∞–ø—Ä–æ—Å—ã
- `beautifulsoup4==4.12.2` - –ø–∞—Ä—Å–∏–Ω–≥ HTML

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 9
- **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 4
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~2000+
- **API —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:** 8
- **–ú–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö:** 1 –Ω–æ–≤–∞—è + 1 –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è
- **CRUD –∫–ª–∞—Å—Å–æ–≤:** 2
- **–°–µ—Ä–≤–∏—Å–æ–≤:** 2

## üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó

### –ë–∞–∑–æ–≤–∞—è –≤–∞–ª—é—Ç–∞ –∏ –ø—Ä–∞–≤–∏–ª–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚úÖ –°–∏—Å—Ç–µ–º–Ω–∞—è –±–∞–∑–æ–≤–∞—è –≤–∞–ª—é—Ç–∞: RUB
‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ RUB, USD, EUR, BYN
‚úÖ –û–∫—Ä—É–≥–ª–µ–Ω–∏–µ –¥–æ 2 –∑–Ω–∞–∫–æ–≤
‚úÖ –ë–∞–Ω–∫–æ–≤—Å–∫–æ–µ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∞–≤–∫–∏
‚úÖ –û–¥–Ω–∞ –æ—Å–Ω–æ–≤–Ω–∞—è —Å—Ç–∞–≤–∫–∞ –Ω–∞ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ RUB –∏ USD –∫–∞–∫ –±–∞–∑–æ–≤—ã—Ö
‚úÖ –û—Ç–º–µ—Ç–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–π —Å—Ç–∞–≤–∫–∏ (is_base)
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏

### –ê–ª–≥–æ—Ä–∏—Ç–º –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏
‚úÖ RUB –∫–∞–∫ –æ–ø–æ—Ä–Ω–∞—è –≤–∞–ª—é—Ç–∞
‚úÖ –§–æ—Ä–º—É–ª–∞: base ‚Üí RUB ‚Üí target
‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—á–µ—Ç–æ–≤
‚úÖ –ü–µ—Ä–µ—Å—á–µ—Ç –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫—É—Ä—Å–∞

### –ò—Å—Ç–æ—á–Ω–∏–∫ –∫—É—Ä—Å–∞ –≤–∞–ª—é—Ç
‚úÖ –ü–∞—Ä—Å–∏–Ω–≥ —Å —Å–∞–π—Ç–∞ –¶–ë –†–§
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑ –≤ –¥–µ–Ω—å (09:00)
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
‚úÖ –†—É—á–Ω–æ–π —Ç—Ä–∏–≥–≥–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### UI —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
‚úÖ –í–∏–¥–∂–µ—Ç —Å –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ç–∞–≤–∫–æ–π
‚úÖ –û—Ç–º–µ—Ç–∫–∞ –∏—Å—Ö–æ–¥–Ω–æ–π —Å—Ç–∞–≤–∫–∏
‚úÖ –ë–ª–æ–∫ —Å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–µ–π
‚úÖ –í—Ä–µ–º—è –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏ –∫—É—Ä—Å–∞
‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

### Backend —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
‚úÖ –ú–æ–¥–µ–ª—å CandidateRate (–≤ —Å–æ—Å—Ç–∞–≤–µ CandidateProfileDB)
‚úÖ –ú–æ–¥–µ–ª—å ExchangeRateSnapshot
‚úÖ API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö

### –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å—Ä–µ–∑–∞
‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–Ω—ã—Ö —Å—Ç–∞–≤–æ–∫
‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∫—É—Ä—Å–∞ –ø—Ä–∏ —Å–±–æ–µ
‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫
‚úÖ –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã
‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é
python scripts/migrate_add_currency_fields.py

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
uvicorn app.main:app --reload

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É
curl http://localhost:8000/api/currency/rates/current
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –∫–æ–¥

```python
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
from app.crud.candidate_rate import CandidateRateCRUD

await CandidateRateCRUD.update_candidate_rate(
    session,
    candidate_id=123,
    base_amount=3000,
    base_currency="USD",
    rate_type="monthly"
)

# –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞–≤–∫—É
candidate = await CandidateRateCRUD.get_candidate_with_rates(
    session,
    candidate_id=123
)

print(f"USD: {candidate.rate_usd}")
print(f"EUR: {candidate.rate_eur}")
print(f"RUB: {candidate.rate_rub}")
print(f"BYN: {candidate.rate_byn}")
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —à–∞–±–ª–æ–Ω

```html
<!-- –í –ø—Ä–æ—Ñ–∏–ª–µ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ -->
{% include "candidate/candidate_rates_widget.html" %}
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –ò–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤

`app/core/scheduler.py`:
```python
scheduler.add_job(
    update_exchange_rates_job,
    trigger=CronTrigger(hour=12, minute=0),  # 12:00 –≤–º–µ—Å—Ç–æ 09:00
    id="daily_exchange_rates_update",
    replace_existing=True,
)
```

### –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –≤–∞–ª—é—Ç—É

1. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ `ExchangeRate`:
```python
cny_rate: Optional[float] = Field(default=None)
```

2. –û–±–Ω–æ–≤–∏—Ç—å –ø–∞—Ä—Å–µ—Ä –≤ `exchange_rate_parser.py`

3. –î–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏–∫—É –≤ `currency_service.py`

4. –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ª–µ –≤ `CandidateProfileDB`:
```python
rate_cny: Optional[float] = Field(default=None)
```

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–û–ø–æ—Ä–Ω–∞—è –≤–∞–ª—é—Ç–∞:** –í—Å–µ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏–¥—É—Ç —á–µ—Ä–µ–∑ RUB
2. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:** –°—Ç–∞–≤–∫–∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ –ë–î —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —Å—Ä–µ–∑—É –∫—É—Ä—Å–∞
3. **–û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å:** –ü—Ä–∏ —Å–±–æ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π —É—Å–ø–µ—à–Ω—ã–π –∫—É—Ä—Å
4. **Scheduler:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç APScheduler –¥–ª—è —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á
5. **Async/Await:** –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ

### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. –ü–∞—Ä—Å–µ—Ä –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—ã HTML –¶–ë –†–§
2. –ò–Ω–¥–µ–∫—Å—ã —Å—Ç—Ä–æ–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è
3. –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤
4. Scheduler —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–ø—É—â–µ–Ω–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫—É—Ä—Å–æ–≤
2. –î–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¶–ë –†–§
3. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∫—É—Ä—Å–æ–≤ (API)
4. –î–æ–±–∞–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞–≤–æ–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞
5. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —ç–∫—Å–ø–æ—Ä—Ç —Å—Ç–∞–≤–æ–∫ –≤ –æ—Ç—á–µ—Ç—ã

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ú–æ–¥—É–ª—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∫—É—Ä—Å–æ–≤ –æ—Ç –¶–ë –†–§
‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∞–º–∏ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
‚úÖ API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–∞–ª—é—Ç–∞–º–∏
‚úÖ UI –≤–∏–¥–∂–µ—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [CURRENCY_MODULE.md](CURRENCY_MODULE.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [CURRENCY_QUICKSTART.md](CURRENCY_QUICKSTART.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- [ARCHITECTURE.md](ARCHITECTURE.md) - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫—É—Ä—Å–æ–≤ —á–µ—Ä–µ–∑ API
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º

---

**–î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 01.12.2025
**–í–µ—Ä—Å–∏—è:** 1.0.0
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

